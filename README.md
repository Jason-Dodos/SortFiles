# 文件分类工具

一个强大的文件分类工具，可以根据文件扩展名自动将文件分类到不同的目录中。

## 功能特点

- 根据文件扩展名自动分类文件
- 支持递归处理目录中的所有文件（包括子目录）
- 支持细分子分类（如图片按格式分类）
- 自动生成分类报告
- 处理同名文件时自动重命名
- 支持命令行参数，易于集成到自动化流程中

## 安装要求

- Python 3.6 或更高版本
- Windows/Linux/macOS 操作系统

## 使用方法

### 基本语法

```bash
python classify_files.py <源路径> <目标路径> [-r <报告路径>]
```

### 参数说明

- `<源路径>`: 待分类的文件或目录路径
- `<目标路径>`: 存放分类后文件的目录路径
- `-r, --report`: （可选）指定分类报告的生成路径

### 使用示例

```bash
# 对单个文件进行分类
python classify_files.py 待分类文件.txt 分类结果目录

# 对整个目录进行分类
python classify_files.py 待分类目录 分类结果目录

# 指定分类报告的路径
python classify_files.py 待分类目录 分类结果目录 -r 自定义报告路径/分类报告.md
```

## 分类规则

文件会根据其扩展名被分类到以下主类别中：

1. **文档资料**: `.doc`, `.docx`, `.pdf`, `.txt`, `.rtf`, `.xls`, `.xlsx`, `.ppt`, `.pptx`, `.odt`, `.ods`, `.odp`
2. **图片素材**: `.jpg`, `.jpeg`, `.png`, `.gif`, `.bmp`, `.tiff`, `.svg`, `.webp`, `.ico`
3. **视频资料**: `.mp4`, `.avi`, `.mkv`, `.mov`, `.wmv`, `.flv`, `.webm`, `.m4v`
4. **音频资料**: `.mp3`, `.wav`, `.flac`, `.aac`, `.ogg`, `.wma`, `.m4a`
5. **压缩文件**: `.zip`, `.rar`, `.7z`, `.tar`, `.gz`, `.bz2`
6. **程序软件**: `.exe`, `.msi`, `.bat`, `.cmd`, `.sh`
7. **代码文件**: `.py`, `.java`, `.cpp`, `.c`, `.js`, `.html`, `.css`, `.php`, `.sql`, `.xml`, `.json`
8. **数据文件**: `.csv`, `.dat`, `.db`, `.sqlite`, `.mdb`, `.json`, `.xml`

### 子分类规则

部分主类别还会进一步细分为子类别：

- **图片素材**:
  - JPEG: `.jpg`, `.jpeg`
  - PNG: `.png`
  - GIF: `.gif`
  - BMP: `.bmp`
  - TIFF: `.tiff`
  - SVG: `.svg`
  - WEBP: `.webp`
  - ICO: `.ico`

- **文档资料**:
  - Word文档: `.doc`, `.docx`
  - PDF文档: `.pdf`
  - 文本文件: `.txt`, `.rtf`
  - 表格文档: `.xls`, `.xlsx`, `.ods`
  - 演示文档: `.ppt`, `.pptx`, `.odp`

- **视频资料**:
  - MP4视频: `.mp4`
  - AVI视频: `.avi`
  - MKV视频: `.mkv`
  - MOV视频: `.mov`
  - 其他视频: `.wmv`, `.flv`, `.webm`, `.m4v`

- **音频资料**:
  - MP3音频: `.mp3`
  - WAV音频: `.wav`
  - FLAC音频: `.flac`
  - AAC音频: `.aac`
  - 其他音频: `.ogg`, `.wma`, `.m4a`

- **压缩文件**:
  - ZIP压缩: `.zip`
  - RAR压缩: `.rar`
  - 7Z压缩: `.7z`
  - TAR压缩: `.tar`
  - 其他压缩: `.gz`, `.bz2`

- **程序软件**:
  - 可执行程序: `.exe`
  - 安装包: `.msi`
  - 批处理脚本: `.bat`, `.cmd`
  - Shell脚本: `.sh`

- **代码文件**:
  - Python代码: `.py`
  - Java代码: `.java`
  - C/C++代码: `.cpp`, `.c`
  - 前端代码: `.js`, `.html`, `.css`
  - 后端代码: `.php`, `.sql`
  - 配置文件: `.xml`, `.json`

- **数据文件**:
  - CSV数据: `.csv`
  - 数据库文件: `.db`, `.sqlite`, `.mdb`
  - 其他数据: `.dat`, `.json`, `.xml`

## 分类报告

工具会在分类完成后自动生成分类报告，报告包含以下内容：

1. 总体统计信息
2. 各分类的详细统计信息及占比

报告默认生成在目标目录下的 `分类报告.md` 文件中。

## 注意事项

1. 工具会移动文件而不是复制文件，原始文件会被移至新的分类目录中
2. 如果目标目录中已存在同名文件，工具会自动在文件名后添加数字后缀以避免覆盖
3. 工具会递归处理源目录中的所有文件，包括子目录中的文件
4. 在Windows系统上，建议使用命令提示符或PowerShell运行此工具

## 常见问题

### Q: 工具运行后没有处理任何文件？
A: 确保源路径正确且包含文件。工具会递归处理目录中的所有文件，包括子目录中的文件。

### Q: 分类报告中的中文显示乱码？
A: 分类报告使用UTF-8编码，在Windows记事本中可能会显示乱码。建议使用VS Code、Notepad++等现代文本编辑器打开，或者在PowerShell中使用`type`命令查看。

### Q: 如何添加新的分类规则？
A: 可以直接编辑 `classify_files.py` 文件中的 `FILE_CATEGORIES` 和 `SUBCATEGORIES` 字典来添加新的分类规则。

### Q: 如果有其他反馈信息 ,请在评论区留言